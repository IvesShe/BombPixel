window.__require=function e(t,i,o){function c(r,s){if(!i[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var h="function"==typeof __require&&__require;if(!s&&h)return h(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){return c(t[r][1][e]||e)},d,d.exports,e,t,i,o)}return i[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<o.length;r++)c(o[r]);return c}({game:[function(e,t,i){"use strict";cc._RF.push(t,"78ab6uo2KtKtqhPqPS1or7/","game"),cc.Class({extends:cc.Component,properties:{playerNode:cc.Node,boomNode:cc.Node,enemyNode:cc.Node,scoreValLabel:cc.Label,messageLabel:cc.Label,restartButton:cc.Button},onLoad:function(){this.placePlayer(),this.placeEnemy(),this.messageLabel.node.active=!1,this.restartButton.node.active=!1,this.score=0,this.node.on("touchstart",this.fire,this)},onDestroy:function(){this.node.off("touchstart",this.fire,this)},start:function(){},placeEnemy:function(){this.enemyNode.active=!0;var e=10+340*Math.random(),t=(cc.winSize.width-e)/2-this.enemyNode.width/2,i=Math.random()*cc.winSize.height/4-50;this.enemyNode.x=0,this.enemyNode.y=cc.winSize.height/3-this.enemyNode.height/2-50*Math.random();var o=.5+1*Math.random(),c=Math.random()<.5?1:-1,n=cc.repeatForever(cc.sequence(cc.moveTo(o,t*c,i),cc.moveTo(o,-t*c,i)));this.enemyAction=this.enemyNode.runAction(n)},placePlayer:function(){var e=this;this.isFire=!1,this.playerNode.active=!0,this.playerNode.y=0-cc.winSize.height/6;var t=cc.sequence(cc.moveTo(30,cc.v2(this.playerNode.x,-(cc.winSize.height/2-2*this.playerNode.height))),cc.callFunc(function(){e.die()}));this.playerAction=this.playerNode.runAction(t)},fire:function(){var e=this;if(!this.isFire){this.isFire=!0,cc.log("\u767c\u5c04!");var t=cc.sequence(cc.moveTo(.6,cc.v2(0,cc.winSize.height/2-this.playerNode.height)),cc.callFunc(function(){e.die()}));this.playerNode.stopAction(this.playerAction),this.playerAction=this.playerNode.runAction(t)}},die:function(){var e=this;cc.log("\u73a9\u5bb6\u6b7b\u4ea1"),this.playerNode.active=!1,this.boom(this.playerNode.position,this.playerNode.color),this.messageLabel.node.active=!0,this.restartButton.node.active=!1,setTimeout(function(){e.restartButton.node.active=!0},1e3)},onClick_restart:function(){cc.director.loadScene("game")},boom:function(e,t){this.boomNode.setPosition(e);var i=this.boomNode.getComponent(cc.ParticleSystem);void 0!==t&&(i.startColor=i.endColor=t),i.resetSystem()},update:function(e){this.playerNode.position.sub(this.enemyNode.position).mag()<this.playerNode.width/2+this.enemyNode.width/2&&(this.enemyNode.active=!1,this.boom(this.enemyNode.position,this.enemyNode.color),this.scoreValLabel.string=++this.score,this.enemyNode.stopAction(this.enemyAction),this.playerNode.stopAction(this.playerAction),this.placePlayer(),this.placeEnemy())}}),cc._RF.pop()},{}]},{},["game"]);